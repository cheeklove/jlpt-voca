<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>N3 ë‹¨ì–´ì¥ Ch.3</title>
    <style>
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background: #1a1a2e;
            color: #eee;
            min-height: 100vh;
            user-select: none;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 12px;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            flex-wrap: wrap;
            gap: 8px;
        }
        h1 {
            font-size: 1.3rem;
            margin: 0;
            color: #fff;
        }
        .progress {
            font-size: 0.9rem;
            color: #888;
        }
        .controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 12px;
            justify-content: center;
        }
        .toggle-btn {
            padding: 8px 14px;
            border: none;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .toggle-btn.active {
            background: #4a5568;
            color: #fff;
        }
        .toggle-btn.inactive {
            background: #2d3748;
            color: #718096;
        }
        .toggle-btn.shuffle {
            background: #805ad5;
            color: #fff;
        }
        .toggle-btn.reset {
            background: #dd6b20;
            color: #fff;
        }
        .category-select {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px;
            background: #2d3748;
            color: #fff;
            font-size: 0.95rem;
            margin-bottom: 12px;
        }
        .card {
            background: linear-gradient(145deg, #16213e, #1a1a2e);
            border-radius: 16px;
            padding: 28px 20px;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            margin-bottom: 16px;
            border: 1px solid #2d3748;
        }
        .kanji {
            font-size: 3rem;
            font-weight: bold;
            color: #fff;
            margin-bottom: 16px;
            text-align: center;
            line-height: 1.3;
        }
        .reading {
            font-size: 1.4rem;
            color: #63b3ed;
            margin-bottom: 20px;
            text-align: center;
        }
        .meaning {
            font-size: 1.5rem;
            color: #68d391;
            text-align: center;
            padding: 12px 20px;
            background: rgba(104, 211, 145, 0.1);
            border-radius: 10px;
        }
        .hidden {
            visibility: hidden;
        }
        .nav-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }
        .nav-btn {
            flex: 1;
            max-width: 150px;
            padding: 14px 20px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .nav-btn.prev {
            background: #4a5568;
            color: #fff;
        }
        .nav-btn.next {
            background: #4299e1;
            color: #fff;
        }
        .nav-btn:active {
            transform: scale(0.96);
        }
        .category-tag {
            font-size: 0.75rem;
            padding: 4px 10px;
            background: #4a5568;
            border-radius: 12px;
            margin-bottom: 16px;
            color: #a0aec0;
        }
        .tap-hint {
            text-align: center;
            font-size: 0.8rem;
            color: #555;
            margin-top: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" style="color:#4facfe;text-decoration:none;font-size:0.9rem;">â€¹ ì±•í„° ì„ íƒ</a>
            <h1>N3 ë‹¨ì–´ì¥ Ch.3</h1>
            <span class="progress" id="progress">1 / 100</span>
        </header>
        
        <select class="category-select" id="categorySelect" onchange="changeCategory()">
            <option value="all">ì „ì²´</option>
            <option value="ìŒë…ëª…ì‚¬">ìŒë… ëª…ì‚¬</option>
            <option value="í›ˆë…ëª…ì‚¬">í›ˆë… ëª…ì‚¬</option>
            <option value="ë™ì‚¬">ë™ì‚¬</option>
            <option value="ã„í˜•ìš©ì‚¬">ã„í˜•ìš©ì‚¬</option>
            <option value="ãªí˜•ìš©ì‚¬">ãªí˜•ìš©ì‚¬</option>
            <option value="ë¶€ì‚¬">ë¶€ì‚¬ ë° ê¸°íƒ€</option>
            <option value="ê°€íƒ€ì¹´ë‚˜">ê°€íƒ€ì¹´ë‚˜ì–´</option>
        </select>
        
        <div class="card" onclick="revealAll()">
            <span class="category-tag" id="categoryTag">ëª…ì‚¬</span>
            <div class="kanji" id="kanji">æ¼¢å­—</div>
            <div class="reading" id="reading">ã‹ã‚“ã˜</div>
            <div class="meaning" id="meaning">í•œì</div>
        </div>
        
        <div class="controls">
            <button class="toggle-btn reset" id="resetBtn" onclick="resetOrder()">â†º ì´ˆê¸°í™”</button>
            <button class="toggle-btn shuffle" id="shuffleBtn" onclick="shuffleCards()">ğŸ”€ ì…”í”Œ</button>
            <button class="toggle-btn active" id="toggleReading" onclick="toggleReading()">ë°œìŒ í‘œì‹œ</button>
            <button class="toggle-btn active" id="toggleMeaning" onclick="toggleMeaning()">ì •ë‹µ í‘œì‹œ</button>
        </div>
        
        <div class="nav-buttons">
            <button class="nav-btn prev" onclick="prevCard()">â—€ ì´ì „</button>
            <button class="nav-btn next" onclick="nextCard()">ë‹¤ìŒ â–¶</button>
        </div>
        
        <p class="tap-hint">ì¹´ë“œë¥¼ íƒ­í•˜ë©´ ìˆ¨ê¹€ í•´ì œ</p>
    </div>

    <script>
        const words = [
            // ìŒë… ëª…ì‚¬
            {kanji: "è¨˜æ†¶", reading: "ããŠã", meaning: "ê¸°ì–µ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ©Ÿä¼š", reading: "ãã‹ã„", meaning: "ê¸°íšŒ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ©Ÿæ¢°", reading: "ãã‹ã„", meaning: "ê¸°ê³„", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å­£ç¯€", reading: "ãã›ã¤", meaning: "ê³„ì ˆ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¦å‰‡", reading: "ããã", meaning: "ê·œì¹™", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æœŸå¾…", reading: "ããŸã„", meaning: "ê¸°ëŒ€", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å¸°å®…", reading: "ããŸã", meaning: "ê·€ê°€", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å–«èŒ¶åº—", reading: "ãã£ã•ã¦ã‚“", meaning: "ë‹¤ë°©, ì°»ì§‘", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¨˜å…¥", reading: "ãã«ã‚…ã†", meaning: "ê¸°ì…", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ°—åˆ†", reading: "ãã¶ã‚“", meaning: "ê¸°ë¶„", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç–‘å•", reading: "ãã‚‚ã‚“", meaning: "ì˜ë¬¸", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "é€†", reading: "ãã‚ƒã", meaning: "ì—­, ë°˜ëŒ€", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ€¥è¡Œ", reading: "ãã‚…ã†ã“ã†", meaning: "ê¸‰í–‰", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ä¼‘æ—¥", reading: "ãã‚…ã†ã˜ã¤", meaning: "íœ´ì¼", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç‰›è‚‰", reading: "ãã‚…ã†ã«ã", meaning: "ì‡ ê³ ê¸°", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç‰›ä¹³", reading: "ãã‚…ã†ã«ã‚…ã†", meaning: "ìš°ìœ ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ•™è‚²", reading: "ãã‚‡ã†ã„ã", meaning: "êµìœ¡", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ•™å¸«", reading: "ãã‚‡ã†ã—", meaning: "êµì‚¬", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ•™å®¤", reading: "ãã‚‡ã†ã—ã¤", meaning: "êµì‹¤", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç«¶äº‰", reading: "ãã‚‡ã†ãã†", meaning: "ê²½ìŸ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å…„å¼Ÿ", reading: "ãã‚‡ã†ã ã„", meaning: "í˜•ì œ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å…±é€š", reading: "ãã‚‡ã†ã¤ã†", meaning: "ê³µí†µ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å…±åŒ", reading: "ãã‚‡ã†ã©ã†", meaning: "ê³µë™", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "èˆˆå‘³", reading: "ãã‚‡ã†ã¿", meaning: "í¥ë¯¸", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å”åŠ›", reading: "ãã‚‡ã†ã‚Šã‚‡ã", meaning: "í˜‘ë ¥", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å»å¹´", reading: "ãã‚‡ã­ã‚“", meaning: "ì‘ë…„", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è·é›¢", reading: "ãã‚‡ã‚Š", meaning: "ê±°ë¦¬", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¨˜éŒ²", reading: "ãã‚ã", meaning: "ê¸°ë¡", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç¦ç…™", reading: "ãã‚“ãˆã‚“", meaning: "ê¸ˆì—°", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "éŠ€è¡Œ", reading: "ãã‚“ã“ã†", meaning: "ì€í–‰", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç¦æ­¢", reading: "ãã‚“ã—", meaning: "ê¸ˆì§€", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¿‘æ‰€", reading: "ãã‚“ã˜ã‚‡", meaning: "ê·¼ì²˜", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "åŒºåŸŸ", reading: "ãã„ã", meaning: "êµ¬ì—­", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç©ºæ°—", reading: "ãã†ã", meaning: "ê³µê¸°", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç©ºæ¸¯", reading: "ãã†ã“ã†", meaning: "ê³µí•­", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "åŒºåˆ¥", reading: "ãã¹ã¤", meaning: "êµ¬ë³„", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è‹¦åŠ´", reading: "ãã‚ã†", meaning: "ê³ ìƒ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¨“ç·´", reading: "ãã‚“ã‚Œã‚“", meaning: "í›ˆë ¨", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµŒå–¶", reading: "ã‘ã„ãˆã„", meaning: "ê²½ì˜", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¨ˆç”»", reading: "ã‘ã„ã‹ã", meaning: "ê³„íš", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è­¦å®˜", reading: "ã‘ã„ã‹ã‚“", meaning: "ê²½ê´€, ê²½ì°°ê´€", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµŒé¨“", reading: "ã‘ã„ã‘ã‚“", meaning: "ê²½í—˜", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµŒæ¸ˆ", reading: "ã‘ã„ã–ã„", meaning: "ê²½ì œ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è­¦å¯Ÿ", reading: "ã‘ã„ã•ã¤", meaning: "ê²½ì°°", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¨ˆç®—", reading: "ã‘ã„ã•ã‚“", meaning: "ê³„ì‚°", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµŒç”±", reading: "ã‘ã„ã‚†", meaning: "ê²½ìœ ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ã‘ãŒ", reading: "ã‘ãŒ", meaning: "ë¶€ìƒ, ë‹¤ì¹¨", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å¤–ç§‘", reading: "ã’ã‹", meaning: "ì™¸ê³¼", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ™¯è‰²", reading: "ã‘ã—ã", meaning: "ê²½ì¹˜", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¡€æ¶²å‹", reading: "ã‘ã¤ãˆããŒãŸ", meaning: "í˜ˆì•¡í˜•", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµæœ", reading: "ã‘ã£ã‹", meaning: "ê²°ê³¼", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµå©š", reading: "ã‘ã£ã“ã‚“", meaning: "ê²°í˜¼", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ¬ ç‚¹", reading: "ã‘ã£ã¦ã‚“", meaning: "ê²°ì ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çµè«–", reading: "ã‘ã¤ã‚ã‚“", meaning: "ê²°ë¡ ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ä»¶", reading: "ã‘ã‚“", meaning: "ê±´", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "çœŒ", reading: "ã‘ã‚“", meaning: "í˜„(ì¼ë³¸ì˜ í–‰ì •êµ¬ì—­)", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "åŸå› ", reading: "ã’ã‚“ã„ã‚“", meaning: "ì›ì¸", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç„é–¢", reading: "ã’ã‚“ã‹ã‚“", meaning: "í˜„ê´€", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç ”ç©¶", reading: "ã‘ã‚“ãã‚…ã†", meaning: "ì—°êµ¬", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "å¥åº·", reading: "ã‘ã‚“ã“ã†", meaning: "ê±´ê°•", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ¤œæŸ»", reading: "ã‘ã‚“ã•", meaning: "ê²€ì‚¬", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç¾åœ¨", reading: "ã’ã‚“ã–ã„", meaning: "í˜„ì¬", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "ç ”ä¿®", reading: "ã‘ã‚“ã—ã‚…ã†", meaning: "ì—°ìˆ˜", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "æ¸›å°‘", reading: "ã’ã‚“ã—ã‚‡ã†", meaning: "ê°ì†Œ", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "è¦‹ç‰©", reading: "ã‘ã‚“ã¶ã¤", meaning: "êµ¬ê²½", category: "ìŒë…ëª…ì‚¬"},
            {kanji: "åŸæ–™", reading: "ã’ã‚“ã‚Šã‚‡ã†", meaning: "ì›ë£Œ", category: "ìŒë…ëª…ì‚¬"},
            
            // í›ˆë… ëª…ì‚¬
            {kanji: "é»„è‰²", reading: "ãã„ã‚", meaning: "ë…¸ë‘", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "å‚·", reading: "ããš", meaning: "ìƒì²˜", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "åˆ‡æ‰‹", reading: "ãã£ã¦", meaning: "ìš°í‘œ", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "åˆ‡ç¬¦", reading: "ãã£ã·", meaning: "í‘œ, í‹°ì¼“", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "æ°—æŒã¡", reading: "ãã‚‚ã¡", meaning: "ë§ˆìŒ, ê¸°ë¶„, ê°ì •", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "ç€ç‰©", reading: "ãã‚‚ã®", meaning: "ì˜·, ê¸°ëª¨ë…¸(ì¼ë³¸ ì˜·)", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "å…·åˆ", reading: "ãã‚ã„", meaning: "í˜•í¸, ìƒíƒœ", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "è‰", reading: "ãã•", meaning: "í’€", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "è–¬", reading: "ãã™ã‚Š", meaning: "ì•½", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "ãã›", reading: "ãã›", meaning: "ë²„ë¦‡", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "æœç‰©", reading: "ãã ã‚‚ã®", meaning: "ê³¼ì¼", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "é´", reading: "ãã¤", meaning: "êµ¬ë‘, ì‹ ë°œ", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "é´ä¸‹", reading: "ãã¤ã—ãŸ", meaning: "ì–‘ë§", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "é¦–", reading: "ãã³", meaning: "ëª©", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "é›²", reading: "ãã‚‚", meaning: "êµ¬ë¦„", category: "í›ˆë…ëª…ì‚¬"},
            {kanji: "ä»Šæœ", reading: "ã‘ã•", meaning: "ì˜¤ëŠ˜ ì•„ì¹¨", category: "í›ˆë…ëª…ì‚¬"},
            
            // ë™ì‚¬
            {kanji: "æ€ã„å‡ºã™", reading: "ãŠã‚‚ã„ã ã™", meaning: "ë– ì˜¬ë¦¬ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ³³ã", reading: "ãŠã‚ˆã", meaning: "í—¤ì—„ì¹˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "é™ã‚Šã‚‹", reading: "ãŠã‚Šã‚‹", meaning: "(íƒˆê²ƒì—ì„œ) ë‚´ë¦¬ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æŠ˜ã‚‹", reading: "ãŠã‚‹", meaning: "ì ‘ë‹¤, êº¾ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æŠ˜ã‚Œã‚‹", reading: "ãŠã‚Œã‚‹", meaning: "ì ‘íˆë‹¤, êº¾ì´ë‹¤", category: "ë™ì‚¬"},
            {kanji: "çµ‚ã‚ã‚‹", reading: "ãŠã‚ã‚‹", meaning: "ëë‚˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "è²·ã†", reading: "ã‹ã†", meaning: "ì‚¬ë‹¤", category: "ë™ì‚¬"},
            {kanji: "è¿”ã™", reading: "ã‹ãˆã™", meaning: "ë˜ëŒë ¤ì£¼ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ›¿ãˆã‚‹", reading: "ã‹ãˆã‚‹", meaning: "êµí™˜í•˜ë‹¤, êµì²´í•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "å¸°ã‚‹", reading: "ã‹ãˆã‚‹", meaning: "ëŒì•„ê°€ë‹¤, ëŒì•„ì˜¤ë‹¤", category: "ë™ì‚¬"},
            {kanji: "å¤‰ãˆã‚‹", reading: "ã‹ãˆã‚‹", meaning: "ë°”ê¾¸ë‹¤, ë³€ê²½í•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "è¼ã", reading: "ã‹ãŒã‚„ã", meaning: "ë¹›ë‚˜ë‹¤, ë°˜ì§ì´ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ›ã‹ã‚‹", reading: "ã‹ã‹ã‚‹", meaning: "ê±¸ë¦¬ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ›¸ã", reading: "ã‹ã", meaning: "ì“°ë‹¤", category: "ë™ì‚¬"},
            {kanji: "éš ã™", reading: "ã‹ãã™", meaning: "ìˆ¨ê¸°ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ›ã‘ã‚‹", reading: "ã‹ã‘ã‚‹", meaning: "ê±¸ë‹¤", category: "ë™ì‚¬"},
            {kanji: "é§†ã‘ã‚‹", reading: "ã‹ã‘ã‚‹", meaning: "ë›°ë‹¤, ë‹¬ë¦¬ë‹¤", category: "ë™ì‚¬"},
            {kanji: "å›²ã‚€", reading: "ã‹ã“ã‚€", meaning: "ë‘ë¥´ë‹¤, ë‘˜ëŸ¬ì‹¸ë‹¤", category: "ë™ì‚¬"},
            {kanji: "é‡ãªã‚‹", reading: "ã‹ã•ãªã‚‹", meaning: "ê±°ë“­ë˜ë‹¤, ë°˜ë³µë˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "é‡ã­ã‚‹", reading: "ã‹ã•ã­ã‚‹", meaning: "ê±°ë“­í•˜ë‹¤, ë°˜ë³µí•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "é£¾ã‚‹", reading: "ã‹ã–ã‚‹", meaning: "ê¾¸ë¯¸ë‹¤, ì¥ì‹í•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "è²¸ã™", reading: "ã‹ã™", meaning: "ë¹Œë ¤ì£¼ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ•°ãˆã‚‹", reading: "ã‹ããˆã‚‹", meaning: "(ìˆ˜ë¥¼) ì„¸ë‹¤", category: "ë™ì‚¬"},
            {kanji: "ç‰‡ä»˜ã‘ã‚‹", reading: "ã‹ãŸã¥ã‘ã‚‹", meaning: "ì •ëˆí•˜ë‹¤, ì •ë¦¬í•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "å‹ã¤", reading: "ã‹ã¤", meaning: "ì´ê¸°ë‹¤", category: "ë™ì‚¬"},
            {kanji: "è¢«ã‚‹", reading: "ã‹ã¶ã‚‹", meaning: "(ëª¨ì ë“±ì„) ì“°ë‹¤, ë’¤ì§‘ì–´ì“°ë‹¤", category: "ë™ì‚¬"},
            {kanji: "å™›ã‚€", reading: "ã‹ã‚€", meaning: "ì”¹ë‹¤, ë¬¼ë‹¤", category: "ë™ì‚¬"},
            {kanji: "é€šã†", reading: "ã‹ã‚ˆã†", meaning: "ë‹¤ë‹ˆë‹¤", category: "ë™ì‚¬"},
            {kanji: "å€Ÿã‚Šã‚‹", reading: "ã‹ã‚Šã‚‹", meaning: "ë¹Œë¦¬ë‹¤", category: "ë™ì‚¬"},
            {kanji: "æ¯ã‚Œã‚‹", reading: "ã‹ã‚Œã‚‹", meaning: "(ì‹ë¬¼ì´) ë§ˆë¥´ë‹¤, ë§ë¼ ì£½ë‹¤", category: "ë™ì‚¬"},
            {kanji: "ã‹ã‚ã„ãŒã‚‹", reading: "ã‹ã‚ã„ãŒã‚‹", meaning: "ê·€ì—¬ì›Œí•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "ä¹¾ã", reading: "ã‹ã‚ã", meaning: "ë§ˆë¥´ë‹¤, ê±´ì¡°í•˜ë‹¤", category: "ë™ì‚¬"},
            {kanji: "å¤‰ã‚ã‚‹", reading: "ã‹ã‚ã‚‹", meaning: "ë°”ë€Œë‹¤, ë‹¬ë¼ì§€ë‹¤", category: "ë™ì‚¬"},
            
            // ã„í˜•ìš©ì‚¬
            {kanji: "ã†ã‚‰ã‚„ã¾ã—ã„", reading: "ã†ã‚‰ã‚„ã¾ã—ã„", meaning: "ë¶€ëŸ½ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "ã†ã‚‹ã•ã„", reading: "ã†ã‚‹ã•ã„", meaning: "ì‹œë„ëŸ½ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "å¬‰ã—ã„", reading: "ã†ã‚Œã—ã„", meaning: "ê¸°ì˜ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "ãŠã„ã—ã„", reading: "ãŠã„ã—ã„", meaning: "ë§›ìˆë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "å¤šã„", reading: "ãŠãŠã„", meaning: "ë§ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "ãŠã‹ã—ã„", reading: "ãŠã‹ã—ã„", meaning: "ì´ìƒí•˜ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "ãŠã—ã„", reading: "ãŠã—ã„", meaning: "ì•„ê¹ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "é…ã„", reading: "ãŠãã„", meaning: "ëŠ¦ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "å¤§äººã—ã„", reading: "ãŠã¨ãªã—ã„", meaning: "ì ì–ë‹¤, ì–Œì „í•˜ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "é‡ã„", reading: "ãŠã‚‚ã„", meaning: "ë¬´ê²ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "é¢ç™½ã„", reading: "ãŠã‚‚ã—ã‚ã„", meaning: "ì¬ë¯¸ìˆë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "å›ºã„", reading: "ã‹ãŸã„", meaning: "ë”±ë”±í•˜ë‹¤, ë‹¨ë‹¨í•˜ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            {kanji: "æ‚²ã—ã„", reading: "ã‹ãªã—ã„", meaning: "ìŠ¬í”„ë‹¤", category: "ã„í˜•ìš©ì‚¬"},
            
            // ãªí˜•ìš©ì‚¬
            {kanji: "å±é™ºã ", reading: "ãã‘ã‚“ã ", meaning: "ìœ„í—˜í•˜ë‹¤", category: "ãªí˜•ìš©ì‚¬"},
            {kanji: "è²´é‡ã ", reading: "ãã¡ã‚‡ã†ã ", meaning: "ê·€ì¤‘í•˜ë‹¤", category: "ãªí˜•ìš©ì‚¬"},
            {kanji: "å™¨ç”¨ã ", reading: "ãã‚ˆã†ã ", meaning: "ì†œì”¨ê°€ ì¢‹ë‹¤", category: "ãªí˜•ìš©ì‚¬"},
            {kanji: "å«Œã„ã ", reading: "ãã‚‰ã„ã ", meaning: "ì‹«ì–´í•˜ë‹¤", category: "ãªí˜•ìš©ì‚¬"},
            {kanji: "çµæ§‹ã ", reading: "ã‘ã£ã“ã†ã ", meaning: "í›Œë¥­í•˜ë‹¤, ê´œì°®ë‹¤", category: "ãªí˜•ìš©ì‚¬"},
            {kanji: "å…ƒæ°—ã ", reading: "ã’ã‚“ãã ", meaning: "ê±´ê°•í•˜ë‹¤, í˜ê¸°ì°¨ë‹¤", category: "ãªí˜•ìš©ì‚¬"},
            
            // ë¶€ì‚¬ ë° ê¸°íƒ€
            {kanji: "ãã¡ã‚“ã¨", reading: "ãã¡ã‚“ã¨", meaning: "ê¹”ë”íˆ, ì •í™•íˆ", category: "ë¶€ì‚¬"},
            {kanji: "ãã£ã—ã‚Š", reading: "ãã£ã—ã‚Š", meaning: "ë¹½ë¹½ì´", category: "ë¶€ì‚¬"},
            {kanji: "ãã£ã¨", reading: "ãã£ã¨", meaning: "ê¼­(ì˜ì›, í™•ì‹ ), ë¶„ëª…, í‹€ë¦¼ì—†ì´", category: "ë¶€ì‚¬"},
            {kanji: "æ€¥ã«", reading: "ãã‚…ã†ã«", meaning: "ê°‘ìê¸°", category: "ë¶€ì‚¬"},
            {kanji: "ãã£ã™ã‚Š", reading: "ãã£ã™ã‚Š", meaning: "í‘¹", category: "ë¶€ì‚¬"},
            {kanji: "ãã£ãŸã‚Š", reading: "ãã£ãŸã‚Š", meaning: "ë…¹ì´ˆê°€ ë¨", category: "ë¶€ì‚¬"},
            {kanji: "ã‘ã£ã—ã¦", reading: "ã‘ã£ã—ã¦", meaning: "ê²°ì½”", category: "ë¶€ì‚¬"},
            {kanji: "ã“ã£ãã‚Š", reading: "ã“ã£ãã‚Š", meaning: "ë‚¨ëª°ë˜, ì‚´ì§", category: "ë¶€ì‚¬"},
            
            // ê°€íƒ€ì¹´ë‚˜ì–´
            {kanji: "ã‚«ãƒ­ãƒªãƒ¼", reading: "ã‚«ãƒ­ãƒªãƒ¼", meaning: "ì¹¼ë¡œë¦¬", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼", reading: "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼", meaning: "ìº˜ë¦°ë”, ë‹¬ë ¥", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«", reading: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«", meaning: "ì·¨ì†Œ", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚­ãƒ­(ã‚°ãƒ©ãƒ )", reading: "ã‚­ãƒ­(ã‚°ãƒ©ãƒ )", meaning: "í‚¬ë¡œê·¸ë¨", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚­ãƒ­(ãƒ¡ãƒ¼ãƒˆãƒ«)", reading: "ã‚­ãƒ­(ãƒ¡ãƒ¼ãƒˆãƒ«)", meaning: "í‚¬ë¡œë¯¸í„°", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚±ãƒ¼ã‚­", reading: "ã‚±ãƒ¼ã‚­", meaning: "ì¼€ì´í¬", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚¯ãƒ¼ãƒ©ãƒ¼", reading: "ã‚¯ãƒ¼ãƒ©ãƒ¼", meaning: "ì¿¨ëŸ¬, ëƒ‰ë°© ì¥ì¹˜", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚¯ãƒ©ã‚¹", reading: "ã‚¯ãƒ©ã‚¹", meaning: "í´ë˜ìŠ¤, í•™ê¸‰", category: "ê°€íƒ€ì¹´ë‚˜"},
            {kanji: "ã‚°ãƒ«ãƒ¼ãƒ—", reading: "ã‚°ãƒ«ãƒ¼ãƒ—", meaning: "ê·¸ë£¹, ëª¨ë‘ ", category: "ê°€íƒ€ì¹´ë‚˜"},
        ];

        let currentIndex = 0;
        let filteredWords = [...words];
        let showReading = true;
        let showMeaning = true;

        function updateCard() {
            const word = filteredWords[currentIndex];
            document.getElementById('kanji').textContent = word.kanji;
            document.getElementById('reading').textContent = word.reading;
            document.getElementById('meaning').textContent = word.meaning;
            document.getElementById('categoryTag').textContent = word.category;
            document.getElementById('progress').textContent = `${currentIndex + 1} / ${filteredWords.length}`;
            
            applyVisibility();
        }

        function applyVisibility() {
            document.getElementById('reading').className = showReading ? 'reading' : 'reading hidden';
            document.getElementById('meaning').className = showMeaning ? 'meaning' : 'meaning hidden';
        }

        function toggleReading() {
            showReading = !showReading;
            const btn = document.getElementById('toggleReading');
            btn.className = showReading ? 'toggle-btn active' : 'toggle-btn inactive';
            btn.textContent = showReading ? 'ë°œìŒ í‘œì‹œ' : 'ë°œìŒ ìˆ¨ê¹€';
            applyVisibility();
        }

        function toggleMeaning() {
            showMeaning = !showMeaning;
            const btn = document.getElementById('toggleMeaning');
            btn.className = showMeaning ? 'toggle-btn active' : 'toggle-btn inactive';
            btn.textContent = showMeaning ? 'ì •ë‹µ í‘œì‹œ' : 'ì •ë‹µ ìˆ¨ê¹€';
            applyVisibility();
        }

        function revealAll() {
            document.getElementById('reading').className = 'reading';
            document.getElementById('meaning').className = 'meaning';
        }

        function nextCard() {
            currentIndex = (currentIndex + 1) % filteredWords.length;
            updateCard();
        }

        function prevCard() {
            currentIndex = (currentIndex - 1 + filteredWords.length) % filteredWords.length;
            updateCard();
        }

        function changeCategory() {
            const category = document.getElementById('categorySelect').value;
            if (category === 'all') {
                filteredWords = [...words];
            } else {
                filteredWords = words.filter(w => w.category === category);
            }
            currentIndex = 0;
            updateCard();
        }

        function shuffleCards() {
            for (let i = filteredWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [filteredWords[i], filteredWords[j]] = [filteredWords[j], filteredWords[i]];
            }
            currentIndex = 0;
            updateCard();
        }

        function resetOrder() {
            const category = document.getElementById('categorySelect').value;
            if (category === 'all') {
                filteredWords = [...words];
            } else {
                filteredWords = words.filter(w => w.category === category);
            }
            currentIndex = 0;
            updateCard();
        }

        // ìŠ¤ì™€ì´í”„ ì§€ì›
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) {
                    nextCard();
                } else {
                    prevCard();
                }
            }
        }

        // í‚¤ë³´ë“œ ì§€ì›
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight') nextCard();
            if (e.key === 'ArrowLeft') prevCard();
            if (e.key === ' ') revealAll();
        });

        document.addEventListener('DOMContentLoaded', function() {
            updateCard();
        });
    </script>
</body>
</html>
